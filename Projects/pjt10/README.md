#  ðŸ±ðŸ»ê´€í†µ í”„ë¡œì íŠ¸ 10- ì†Œì†Œêµ‰

## âœ¨ Vueë¥¼ í™œìš©í•œ  SPA êµ¬ì„±

### ðŸ’– ì´í‰

#### 	ðŸ±â€ðŸ‘¤ ì „í˜¸ì •

> ì˜¤ëŠ˜ì€ ë§ˆì§€ë§‰ ê´€í†µ í”„ë¡œì íŠ¸ë‹¤. ë‹¤ìŒì£¼ ìµœì¢… í”„ë¡œì íŠ¸ë„ ë‚¨ì•„ìžˆìœ¼ë‹ˆ ë”±ížˆ ë§ˆì§€ë§‰ì´ë¼ëŠ” ê¸°ë¶„ì€ ì•ˆë“ ë‹¤. ì˜¤ëŠ˜ ì¡°ì´ë¦„ì„ ì§€ì—ˆëŠ”ë° ì†Œí™•í–‰+ ìˆ˜ìˆ˜êµ‰(ëˆê°€ìŠ¤ë§›ì§‘) ì´ í•©ì³ì ¸  ì†Œì†Œí•˜ì§€ë§Œ êµ‰ìž¥í•´ ë¼ëŠ” ëœ»ìœ¼ë¡œ 'ì†Œì†Œêµ‰'ì´ë‹¤.ðŸ˜Ž ì´ë¦„ì„ ì´ë ‡ê²Œ ì§€ìœ¼ë‹ˆ ë” ì—´ì‹¬ížˆ í•´ì•¼í•  ê²ƒ ê°™ì€ ê¸°ë¶„ì´ ë“¤ì—ˆë‹¤. ì˜¤ëŠ˜ì€ Vue ê³¼ëª©ì—ì„œ ë°°ìš´ ê±¸ ë‹¤ ì¨ë¨¹ì€ ê²ƒ ê°™ë‹¤. routerëž‘ vuexëž‘ vuex-persistedstate ê¹Œì§€!! ì‹¤ìŠµì—ì„œ ê½¤ í–ˆë‹¤ê³  ì˜¤ëŠ˜ì€ í¬ê²Œ ì–´ë ¤ìš´ ì ì€ ì—†ì—ˆë‹¤. ë‹¨ì§€ ìžƒì–´ë²„ë¦° CSSë¥¼ ì°¾ìœ¼ëŸ¬ ë‹¤ë‹ˆëŠ”ê²Œ,,,íž˜ë“¤ì—ˆë‹¤. ê·¸ë¦¬ê³  RANDOMì„ êµ¬ìƒí•˜ëŠ” ë° ë¡œì§ì´ ëˆˆì— ë°”ë¡œ ë“¤ì–´ì˜¤ì§„ ì•Šì•„ì„œ ì¡°ê¸ˆ ì‹œê°„ì´ ê±¸ë ¸ë‹¤. ê·¸ëž˜ë„ ëª…ìž¬ë‹˜ê³¼ í•¨ê»˜ í•˜ë‹ˆ ë¶€ì¡±í•  ê±¸ ì±„ìš¸ ìˆ˜ ìžˆì—ˆë‹¤. ìµœì¢…ì„ ìœ„í•´ CSS ê³µë¶€ëž‘ ì˜ˆìœ íŽ˜ì´ì§€ì¢€ ì°¾ì•„ë´ì•¼ê² ë‹¤! ìš°ë¦¬ì˜ ì»¨ì…‰ì€..?

#### 	ðŸ±â€ðŸ‘¤ ìµœëª…ìž¬

>ë§ˆì§€ë§‰ ê´€í†µ í”„ë¡œì íŠ¸ë¥¼ ë§ˆì³¤ë‹¤. ìµœì¢… í”„ë¡œì íŠ¸ë¥¼ ì•žë‘ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì—°ìŠµì„ í•´ë³¼ ìˆ˜ ìžˆëŠ” í”„ë¡œì íŠ¸ë¼ì„œ ì•„ì‰½ê¸°ë„ í•˜ë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” Vueë¥¼ ì „ë¶€ í™œìš©í•  ìˆ˜ ìžˆëŠ” í”„ë¡œì íŠ¸ì˜€ë‹¤. router, Vuex, lodash, axios ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í™œìš©í•´ì„œ ì˜í™” ê²Œì‹œíŒì„ ë§Œë“¤ì—ˆë‹¤. ë‹¤í–‰ížˆ ë¬¸ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹¤ êµ¬í˜„í•˜ê³  ë‚˜ì„œ ì‹œê°„ì´ ì¢€ ë‚¨ì•„ì„œ CSSë¥¼ í™œìš©í•´ì„œ íŽ˜ì´ì§€ë¥¼ ê¾¸ë©°ë³´ì•˜ë‹¤. í•˜ì§€ë§Œ ë¶€íŠ¸ìŠ¤íŠ¸ëž©ê³¼ CSSë¥¼ í•œ ì§€ ì¢€ ì§€ë‚˜ì„œ ê·¸ëŸ°ì§€ ê¹Œë¨¹ì—ˆë‹¤ëŠ”... ã…Žã…Žã…Ž ì¶”ê°€ ê¸°ëŠ¥ì„ ë§Œë“¤ë ¤ê³  í–ˆëŠ”ë° ì™„ì„±ì€ ëª»í•˜ê³  êµ¬í˜„í–ˆë‹¤ëŠ” ê²ƒë§Œìœ¼ë¡œ íƒ€í˜‘ì„ í•´ì•¼ í–ˆë‹¤ ã… ã…  ê·¸ëž˜ì„œ ìµœì¢… í”„ë¡œì íŠ¸ë¥¼ ëŒ€ë¹„í•´ì„œ ê³µë¶€í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤. ì•„ì§ ì»¨ì…‰ì€ ì •í•˜ì§€ ëª»í–ˆì§€ë§Œ ì†Œì†Œêµ‰ í™”ì´íŒ…~~!ðŸ˜Ž

### ðŸ† ëª©í‘œ

- ì˜í™” ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” SPA ì œìž‘

-  AJAXí†µì‹ ê³¼ JSON êµ¬ì¡°ì— ëŒ€í•œ ì´í•´
-  Single File Component êµ¬ì¡°ì— ëŒ€í•œ ì´í•´
-  vue-cli, vuex, vue-routerë“± í”ŒëŸ¬ê·¸ì¸ í™œìš©



### ðŸŽ¨ê²°ê³¼ ì‚¬ì§„

------

#### 1. HOME

![home1](README.assets/home1.png)

![home2](README.assets/home2.png)

#### 2. RANDOM

![random2](README.assets/random2.PNG)

#### 3. MyMovieList

![list](README.assets/list.PNG)



###   â› ë‹¨ê³„ë³„ êµ¬í˜„ ê³¼ì •

#### 1. router

- index.js

  ```js
  import Vue from 'vue'
  import VueRouter from 'vue-router'
  import Home from '../views/Home.vue'
  import Random from '../views/Random.vue'
  import MyMovieList from '../views/MyMovieList.vue'
  
  
  Vue.use(VueRouter)
  
  const routes = [
    {
      path: '/',
      name: 'Home',
      component: Home
    },
    {
      path:'/random',
      name:'Random',
      component:Random
  
    },
    {
      path:'/my-movie-list',
      name:'MyMovieList',
      component:MyMovieList
    }
  ]
  
  const router = new VueRouter({
    mode: 'history',
    base: process.env.BASE_URL,
    routes
  })
  
  export default router
  ```
  
  

------

#### 2. store

- index.js

  ```js
  import Vue from 'vue'
  import Vuex from 'vuex'
  import axios from 'axios'
  
  import createPersistedState from 'vuex-persistedstate'
  
  Vue.use(Vuex)
  
  export default new Vuex.Store({
    plugins:[
      createPersistedState()
    ],
    state: {
      movieCards:[],
      myMovies:[],
    },
    mutations: {
      LOAD_MOVIE_CARDS:function(state,results){
        state.movieCards=results
      },
      CREATE_LIST:function(state,movie){
        state.myMovies.push(movie)
      },
      DELETE_MOVIE:function(state,movie){
        const index=state.myMovies.indexOf(movie)
        state.myMovies.splice(index,1)
      },
      UPDATE_MOVIE:function(state,movie){
        state.myMovies=state.myMovies.map(myMovie=>{
          if(myMovie==movie){
            return{
              ...myMovie,
              isWatched:!movie.isWatched
            }
          }else{
            return myMovie
          }
        })
      }
    },
    actions: {
      LoadMovieCards:function({commit}){
        axios({
          methods:'get',
          url:'https://api.themoviedb.org/3/movie/popular',
          params:{
            api_key:'cf85387cb23102d7dcdbb033efadd2e5',
            language:'ko-kr',
          }
        })
          .then((res)=>{
            console.log(res)
            commit('LOAD_MOVIE_CARDS',res.data.results)
          })
      },
      createList:function({commit},movie){
        commit('CREATE_LIST',movie)
      },
      deleteMovie:function({commit},movie){
        commit('DELETE_MOVIE',movie)
      },
      updateMovie:function({commit},movie){
        console.log(movie)
        commit('UPDATE_MOVIE',movie)
      }
    },
    modules: {
    }
  })
  ```
  

------

#### 3. views

- Home.vue

  ```vue
  <template>
    <div class="home">
      <h1>Popular Movies</h1>
      <div>
        <b-card-group class="center-block">
          <movie-card
            v-for="movieCard in movieCards" 
            :key="movieCard.id" 
            :movieCard="movieCard">
          </movie-card>
        </b-card-group>
      </div> 
    </div>
  </template>
  
  <script>
  // @ is an alias to /src
  import MovieCard from '@/components/MovieCard.vue'
  import {mapState} from 'vuex'
  
  export default {
    name: 'Home',
    components: {
      MovieCard,
    },
    created:function(){
      this.$store.dispatch('LoadMovieCards')
    },
    computed:{
      ...mapState(['movieCards'])
    }
  }
  </script>
  ```
  
- MyMovieList

  ```vue
  <template>
    <div class="container">
      <header class="bg-sky">
        <br>
        <h1 class="text-color">My Movie List</h1>
        <my-list-form></my-list-form>
        <br>
      </header>
        <my-list></my-list>
    </div>
  </template>
  
  <script>
  import MyListForm from '@/components/MyListForm.vue'
  import MyList from '@/components/MyList.vue'
  
  export default {
    name:'MyMovieList',
    components:{
      MyListForm,
      MyList,
    }
  }
  </script>
  
  <style>
  .bg-sky{
    background-color:#2c3e50;
  }
  .text-color{
    color:honeydew;
  }
  
  </style>
  ```

- Random.vue

  ```vue
  <template>
    <div id="app">
      <h1>Pick a Movie</h1>
      <br>
      <b-button @click="showMovie">Pick!</b-button>
        <br>
        <br>
        <div >
          <b-card v-if="pickedMovie"
          :img-src="getMovieImg"
          img-alt="Movie Poster"
          imt-top
          style="max-width: 20rem;"
          class="mb-2 ms-auto me-auto"
          border-variant="dark"
          >
            <b-card-text>
              <p>{{ pickedMovie.title}}</p>
              <p>{{ pickedMovie.overview}}</p>
            </b-card-text>
          </b-card>
          <p v-else> Pick a Movie!!</p>`
        </div>
    </div>
  </template>
  
  <script>
  import {mapState} from 'vuex'
  import _ from 'lodash'
  
  export default {
    name:'Random',
    data: function () {
      return {
        pickedMovie: null,
      }
    },
    computed: {
      ...mapState([
        'movieCards'
      ]),
      getMovieImg: function () {
        const movieImg = this.pickedMovie.poster_path
        return `https://image.tmdb.org/t/p/w500/${movieImg}`
      }
    },
    methods: {
      showMovie: function () {
        this.pickedMovie = _.sample(this.movieCards)
        console.log(this.pickedMovie)
      },
    }
  }
  </script>
  ```

------

#### 4. App

- App.vue

  ```vue
  <template>
    <div id="app">
      <div class="ml-auto" >
        <b-navbar type="dark" variant="dark">
          <b-navbar-nav class="justify-content-end">
            <b-nav-item>
              <router-link to="/">Home</router-link>
            </b-nav-item>
            <b-nav-item>
              <router-link to="/random">Random</router-link> 
            </b-nav-item>
            <b-nav-item>  
              <router-link to="/my-movie-list">MyMovieList</router-link>
            </b-nav-item>
          </b-navbar-nav>
        </b-navbar>
      </div>
      <br>
      <router-view/>
    </div>
  </template>
  
  <style>
  #app {
    font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    background-color:rgb(186, 213, 248)
  }
  
  #nav {
    padding: 30px;
  }
  
  #nav a {
    font-weight: bold;
    color: #2c3e50;
  }
  
  #nav a.router-link-exact-active {
    color: #42b983;
  }
  html {
    background-color:rgb(186, 213, 248);
  }
  </style>
  
  ```

------

#### 5. components


- MovieCard.vue

  ```vue
  <template>
    <div>
      <br>
      <div class="container">
        <b-card
          :img-src="getMovieImg"
          img-alt="Movie Poster"
          imt-top
          style="max-width: 20rem;"
          class="mb-2"
          border-variant="dark"
        >
          <b-card-text>
            <p><strong>{{ movieCard.title}}</strong></p>
            <b-button v-b-toggle.overview variant="primary">ì¤„ê±°ë¦¬ ë³´ê¸°</b-button>
            <b-collapse id="overview" class="collapse">
              <br>
              <p>{{ movieCard.overview }}</p>
            </b-collapse>
          </b-card-text>
        </b-card>
      </div>
    </div>
  </template>
  
  <script>
  export default {
    name:'MovieCard',
    props:{
      movieCard:Object,
    },
    computed: {
      getMovieImg: function () {
        const movieImg = this.movieCard.poster_path
        return `https://image.tmdb.org/t/p/w500/${movieImg}`
      }
    }
  }
  </script>
  ```

- MyList.vue

  ```vue
  <template>
    <div>
      <my-list-item
      v-for="myMovie in myMovies" :key="myMovie.date"
      :myMovie="myMovie"
      >
      </my-list-item>
    </div>
  </template>
  
  <script>
  import MyListItem from '@/components/MyListItem.vue'
  import {mapState} from 'vuex'
  
  export default {
    name:'MyList',
    components:{
      MyListItem
    },
    computed:{
      ...mapState(['myMovies'])
    }
  }
  </script>
  ```

- MyListForm.vue

  ```vue
  <template>
    <div>
      <input 
      type="text"
      @keyup.enter="createList"
      v-model.trim="movieTitle">
      <span>' '</span>
      <b-button @click="createList">Add</b-button>
    </div>
  </template>
  
  <script>
  export default {
    name:'MyListForm',
    data:function(){
      return{
        movieTitle:null,
      }
    },
    methods:{
      createList:function(){
        const myMovie={
          title:this.movieTitle,
          isWatched:false,
          date:new Date().getTime()
        }
        if (myMovie.title){
          this.$store.dispatch('createList',myMovie)
        }
        this.movieTitle=null
      }
  
    }
  }
  </script>
  ```

- MyListItem.vue

  ```vue
  <template>
    <div>
      <p></p>
      <div class="list-color">
        <span  @click="updateMovie" :class="{'is-watched':myMovie.isWatched}">{{myMovie.title+' '}}</span>
        <b-button size='sm' @click="deleteMovie">Delete</b-button>
      </div>
    </div>
  </template>
  
  <script>
  export default {
    name:'MyListItem',
    props:{
      myMovie:Object,
    },
    methods:{
      deleteMovie:function(){
        this.$store.dispatch('deleteMovie',this.myMovie)
      },
      updateMovie:function(){
        this.$store.dispatch('updateMovie',this.myMovie)
      }
    }
  }
  </script>
  
  <style>
  .is-watched{
    color: grey;
    text-decoration: line-through;
  }
  .list-color{
    background-color:rgb(243, 234, 234);
  }
  
  </style>
  ```

  
