<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.project.EmotionPlanet.Dao.PickContentDao">

    <select id="listOnMusic" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">
        select no, pickNo, apiId, author apiId title descr year imgLink
        from music
        where pickNo = #{pickNo}
    </select>

    <select id="listOnMovie" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">
        select m.no, pm.pickNo, m.title, m.descr, m.year, m.imgLink, m.genre
        from movie m
        where m.no in (
                        select pm.movieNo
                        from pick_movie pm
                        where pm.pickNo = #{pickNo}
                       )
    </select>

    <select id="listOnActivity" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">
        select ac.no, pa.pickNo, ac.title, ac.imgLink, ac.type
        from activity ac
        where m.no in (
                        select pa.activityNo
                        from pick_activity pa
                        where pa.pickNo = #{pickNo}
                       )
    </select>

<!--    <select id="selectOnMusic" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">-->
<!--        select no, pickNo, apiId, author apiId title descr year imgLink-->
<!--        from music-->
<!--        where pickNo = #{pickNo}-->
<!--    </select>-->

<!--    <select id="selectOnMovie" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">-->
<!--        select m.no, pm.pickNo, m.title, m.descr, m.year, m.imgLink, m.genre-->
<!--        from movie m-->
<!--        where m.no in (-->
<!--        select pm.movieNo-->
<!--        from pick_movie pm-->
<!--        wher-->
<!--        )-->
<!--    </select>-->

<!--    <select id="selectOnMusic" parameterType="int" resultType="com.ssafy.project.EmotionPlanet.Dto.PickContentDto">-->
<!--        select ac.no, pa.pickNo, ac.title, ac.imgLink, ac.type-->
<!--        from activity ac-->
<!--        where m.no in (-->
<!--        select pa.activityNo-->
<!--        from pick_activity pa-->
<!--        where pa.pickNo = #{pickNo}-->
<!--        )-->
<!--    </select>-->


    <delete id="delete" parameterType="int">
        delete from  where no = #{no}
    </delete>

</mapper>