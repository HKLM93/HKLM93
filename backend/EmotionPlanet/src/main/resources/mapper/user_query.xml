<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.project.EmotionPlanet.Dao.UserDao">

	<insert id="userRegister"
		parameterType="com.ssafy.project.EmotionPlanet.Dto.UserDto">
		insert into user(email, pw, nickname, birth)
		values (
		#{email}, #{pw}, #{nickname}, #{birth} )
	</insert>

	<select id="userSelect" parameterType="int"
		resultType="com.ssafy.project.EmotionPlanet.Dto.UserDto">
		select no, email, pw, nickname, birth, profile_img as
		profileImg, publish
		from user
		where no = #{no}
	</select>

	<select id="duplicateEmail" parameterType="String"
		resultType="int">
		select count(*)
		from user
		where email = #{email}
	</select>

	<select id="duplicateNickname" parameterType="String"
		resultType="int">
		select count(*)
		from user
		where nickname = #{nickname}
	</select>

	<delete id="userDelete" parameterType="int">
		delete from user where
		no = #{no};
	</delete>

	<update id="userUpdate"
		parameterType="com.ssafy.project.EmotionPlanet.Dto.UserDto">
		update user
		set pw = #{pw}, nickname = #{nickname} ,profile_img = #{profileImg} , mood
		= #{mood} , publish = #{publish} 
		where no = #{no}
	</update> 
</mapper>
